<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>修改个人信息</title>

		<!--<link href="http://api.map.baidu.com/library/TrafficControl/1.4/src/TrafficControl_min.css" rel="stylesheet"-->
			  <!--type="text/css"/>-->
		<link rel="stylesheet" href="http://localhost:8080/car/css/bootstrap.min.css"/>
		<!--引入日历控件-->
		<link href="http://localhost:8080/car/css/bootstrap-datetimepicker.min.css" rel="stylesheet"/>

		<link type="text/css" rel="stylesheet" href="http://localhost:8080/car/css/style.css"/>


		<!--bootstrap.js和jquery.js位置问题，使得下拉效果无法实现-->
		<script type="text/javascript" src="/car/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="/car/js/jquery.js"></script>



		<script type="text/javascript" src="/car/js/bootstrap-datetimepicker.js"></script>
		<script type="text/javascript" src="/car/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
		<!--引入angularJS-->
		<script type="text/javascript" src="/car/js/angular/angular.min.js"></script>


		<!-- basic styles -->

		<link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../assets/css/font-awesome.min.css" />

		<!--[if IE 7]>
		<link rel="stylesheet" href="../assets/css/font-awesome-ie7.min.css"/>
		<![endif]-->

		<!-- page specific plugin styles -->
		<link rel="stylesheet" href="../assets/css/chosen.css" />
		<!-- fonts -->

		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" />

		<!-- ace styles -->

		<link rel="stylesheet" href="../assets/css/ace.min.css" />
		<link rel="stylesheet" href="../assets/css/ace-rtl.min.css" />
		<link rel="stylesheet" href="../assets/css/ace-skins.min.css" />

		<!--[if lte IE 8]>
		<link rel="stylesheet" href="../assets/css/ace-ie.min.css"/>
		<![endif]-->
		<!-- inline styles related to this page -->

		<!-- ace settings handler -->

		<script src="../assets/js/ace-extra.min.js"></script>

		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

		<!--[if lt IE 9]>
		<script src="../assets/js/html5shiv.js"></script>
		<script src="../assets/js/respond.min.js"></script>
		<![endif]-->


		<!--<link href="../assets/css/bootstrap.min.css" rel="stylesheet" />-->
		<!--<link rel="stylesheet" href="../assets/css/font-awesome.min.css" />-->

		<!--&lt;!&ndash;[if IE 7]>-->
		<!--<link rel="stylesheet" href="../assets/css/font-awesome-ie7.min.css"/>-->
		<!--<![endif]&ndash;&gt;-->

		<!--&lt;!&ndash; page specific plugin styles &ndash;&gt;-->

		<!--<link rel="stylesheet" href="../assets/css/jquery-ui-1.10.3.custom.min.css" />-->
		<!--<link rel="stylesheet" href="../assets/css/chosen.css" />-->
		<!--&lt;!&ndash;<link rel="stylesheet" href="../assets/css/datepicker.css" />&ndash;&gt;-->
		<!--&lt;!&ndash;<link rel="stylesheet" href="../assets/css/bootstrap-timepicker.css" />&ndash;&gt;-->
		<!--&lt;!&ndash;<link rel="stylesheet" href="../assets/css/daterangepicker.css" />&ndash;&gt;-->
		<!--&lt;!&ndash;<link rel="stylesheet" href="../assets/css/colorpicker.css" />&ndash;&gt;-->

		<!--&lt;!&ndash; fonts &ndash;&gt;-->

		<!--<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" />-->

		<!--&lt;!&ndash; ace styles &ndash;&gt;-->

		<!--<link rel="stylesheet" href="../assets/css/ace.min.css" />-->
		<!--<link rel="stylesheet" href="../assets/css/ace-rtl.min.css" />-->
		<!--<link rel="stylesheet" href="../assets/css/ace-skins.min.css" />-->

		<!--&lt;!&ndash;[if lte IE 8]>-->
		<!--<link rel="stylesheet" href="../assets/css/ace-ie.min.css"/>-->
		<!--<![endif]&ndash;&gt;-->

		<!--&lt;!&ndash; inline styles related to this page &ndash;&gt;-->

		<!--&lt;!&ndash; ace settings handler &ndash;&gt;-->

		<!--<script src="../assets/js/ace-extra.min.js"></script>-->

		<!--&lt;!&ndash; HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries &ndash;&gt;-->

		<!--&lt;!&ndash;[if lt IE 9]>-->
		<!--<script src="../assets/js/html5shiv.js"></script>-->
		<!--<script src="../assets/js/respond.min.js"></script>-->
		<!--<![endif]&ndash;&gt;-->
	</head>

	<body ng-app="collectorApp" ng-controller="collectCtrl">
		<div class="navbar navbar-default" id="navbar">
			<script type="text/javascript">
				try{ace.settings.check('navbar' , 'fixed')}catch(e){}
			</script>

			<div class="navbar-container" id="navbar-container">
				<div class="navbar-header pull-left">
					<a href="#" class="navbar-brand">
						<small>
							<i class="icon-leaf"></i>
							高速路逃费稽查典型应用
						</small>
					</a><!-- /.brand -->
				</div><!-- /.navbar-header -->

				<div class="navbar-header pull-right" role="navigation">
					<ul class="nav ace-nav">

						<li class="light-blue">
							<a data-toggle="dropdown" href="#" class="dropdown-toggle">
								<img class="nav-user-photo" src="../assets/avatars/user.jpg" alt="Jason's Photo" />
								<span class="user-info">
									<small>收费员</small>
								</span>

								<i class="icon-caret-down"></i>
							</a>

							<ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
								<li>
									<a ng-click="logout()">
										<i class="icon-off"></i>
										退出
									</a>
								</li>
							</ul>
						</li>
					</ul><!-- /.ace-nav -->
				</div><!-- /.navbar-header -->
			</div><!-- /.container -->
		</div>

		<div class="main-container" id="main-container">
			<script type="text/javascript">
				try{ace.settings.check('main-container' , 'fixed')}catch(e){}
			</script>
			<div class="main-container-inner">
				<a class="menu-toggler" id="menu-toggler" href="#">
					<span class="menu-text"></span>
				</a>

				<div class="sidebar" id="sidebar">
					<script type="text/javascript">
						try{ace.settings.check('sidebar' , 'fixed')}catch(e){}
					</script>

					<ul class="nav nav-list">
						<li class="active">
							<a href="index.html">
								<i class="icon-dashboard"></i>
								<span class="menu-text"> 控制台 </span>
							</a>
						</li>

						<li>
							<a href="#" class="dropdown-toggle">
								<i class="icon-list"></i>
								<span class="menu-text"> 逃费稽查工作 </span>

								<b class="arrow icon-angle-down"></b>
							</a>

							<ul class="submenu">
								<li class="active">
									<a href="tables.html">
										<i class="icon-double-angle-right"></i>
										稽核监控面板
									</a>
								</li>

								<li>
									<a href="audit-result.html">
										<i class="icon-double-angle-right"></i>
										稽查工作成果
									</a>
								</li>
							</ul>
						</li>

						<li class="active open">
							<a href="#" class="dropdown-toggle">
								<i class="icon-edit"></i>
								<span class="menu-text"> 个人信息 </span>

								<b class="arrow icon-angle-down"></b>
							</a>

							<ul class="submenu">
								<li>
									<a href="personal-profile.html">
										<i class="icon-double-angle-right"></i>
										查看个人信息
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-double-angle-right"></i>
										修改个人信息
									</a>
								</li>

								<li>
									<a href="password-change.html">
										<i class="icon-double-angle-right"></i>
										修改密码
									</a>
								</li>

							</ul>
						</li>
					</ul><!-- /.nav-list -->

					<div class="sidebar-collapse" id="sidebar-collapse">
						<i class="icon-double-angle-left" data-icon1="icon-double-angle-left" data-icon2="icon-double-angle-right"></i>
					</div>

					<script type="text/javascript">
						try{ace.settings.check('sidebar' , 'collapsed')}catch(e){}
					</script>
				</div>

				<div class="main-content">

					<div class="breadcrumbs" id="breadcrumbs">
						<script type="text/javascript">
                            try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
						</script>

						<ul class="breadcrumb">
							<li>
								<i class="icon-home home-icon"></i>
								<a href="#">主页</a>
							</li>

							<li>
								<a href="#">个人信息</a>
							</li>

							<li class="active">修改个人信息</li>
						</ul><!-- .breadcrumb -->

						<div class="nav-search" id="nav-search">
							<span><font size="3"><b>当前时间：{{datetime|date : 'yyyy-MM-dd hh:mm:ss'}}</b></font></span>
						</div><!-- #nav-search -->
					</div>

					<div class="page-content">
						<div class="page-header">
							<h1>
								修改个人信息
							</h1>
						</div><!-- /.page-header -->

						<div class="row">
							<div class="col-xs-12">
								<!-- PAGE CONTENT BEGINS -->

								<form class="form-horizontal" method="post" role="form" id="profileForm">
									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="operate_id"> 工号: </label>
										<!--<label class="control-label no-padding-left"> {{profile.operate_id}} </label>-->
										<div class="col-sm-9">
											<input type="text" id="operate_id" placeholder="{{profile.operate_id}}" value="{{profile.operate_id}}" class="col-xs-10 col-sm-5" disabled="disabled"/>
										</div>
									</div>

									<div class="space-4"></div>

									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="name"> 姓名: </label>
										<!--<label class="control-label no-padding-left"> {{profile.name}} </label>-->
										<div class="col-sm-9">
											<input type="text" id="name" placeholder="{{profile.name}}" value="{{profile.name}}" class="col-xs-10 col-sm-5" disabled="disabled"/>
										</div>
									</div>

									<div class="space-4"></div>

									<div class="form-group form-inline" >
										<label class="col-sm-3 control-label no-padding-right" > 性别: </label>

										<div class="col-sm-9 clearfix">
											<label class="checkbox-inline" ng-if="profile.gender == '男'">
												<input type="radio" name="optionsRadiosinline" class="option" id="gender1"  value="option1" checked> 男 &nbsp&nbsp&nbsp&nbsp
												<input type="radio" name="optionsRadiosinline" class="option" id="gender2"  value="option2"> 女
											</label>
											<label class="checkbox-inline" ng-if="profile.gender != '男'">
												<input type="radio" name="optionsRadiosinline2" class="option" id="gender3"  value="option1" > 男 &nbsp&nbsp&nbsp&nbsp
												<input type="radio" name="optionsRadiosinline2" class="option" id="gender4"  value="option2" checked> 女
											</label>
											<!--<label class="checkbox-inline" ng-if="profile.gender == '男'">-->
												<!--<input type="radio" name="optionsRadiosinline" id="gender2"  value="option2"> 女-->
											<!--</label>-->
											<!--<label class="checkbox-inline" ng-if="profile.gender != '男'">-->
												<!--<input type="radio" name="optionsRadiosinline" id="gender4"  value="option2" checked="checked"> 女-->
											<!--</label>-->
										</div>

										<!--<div class="col-sm-9 clearfix" ng-if="profile.gender != '男'">-->
											<!--<label class="checkbox-inline">-->
												<!--<input type="radio" name="optionsRadiosinline" id="gender3"  value="option1"> 男-->
											<!--</label>-->
											<!--<label class="checkbox-inline">-->
												<!--<input type="radio" name="optionsRadiosinline" id="gender4"  value="option2"  checked="checked"> 女-->
											<!--</label>-->
										<!--</div>-->
									</div>

									<div class="space-4"></div>

									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right"> 出生年月: </label>

										<div class="col-sm-9">
											<div class='date input-group input-group-sm' id='datetimepicker1' style="width:41.6666%">
												<input type='text' class="form-control col-xs-10 col-sm-5 " id='birth' value="{{profile.birth_date}}"/>
												<span class="input-group-addon">
													<span class="glyphicon glyphicon-calendar"></span>
												</span>
											</div>
										</div>
									</div>

									<div class="space-4"></div>

									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="political"> 政治面貌: </label>

										<div class="col-sm-9">
											<input type="text" id="political" value="{{profile.political_status}}" class="col-xs-10 col-sm-5"/>
										</div>
									</div>

									<div class="space-4"></div>

									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="minzu"> 民族: </label>

										<div class="col-sm-9">
											<input type="text" id="minzu" value="{{profile.minzu}}" class="col-xs-10 col-sm-5"/>
										</div>
									</div>

									<div class="space-4"></div>

									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="phone"> 联系方式: </label>

										<div class="col-sm-9">
											<input type="text" id="phone" value="{{profile.phone_number}}" class="col-xs-10 col-sm-5"/>
										</div>
									</div>

									<div class="space-4"></div>

									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="address"> 地址: </label>

										<div class="col-sm-9">
											<input type="text" id="address" value="{{profile.address}}" class="col-xs-10 col-sm-5"/>
										</div>
									</div>

									<div class="space-4"></div>

									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="email"> 邮箱: </label>

										<div class="col-sm-9">
											<input type="text" id="email" value="{{profile.email}}" class="col-xs-10 col-sm-5"/>
										</div>
									</div>

									<div class="space-4"></div>

									<div class="clearfix form-actions">
										<div class="col-md-offset-3 col-md-9">
											<button class="btn btn-info" type="button" id="submit">
												<i class="icon-ok bigger-110"></i>
												确认
											</button>

											&nbsp; &nbsp; &nbsp;
											<button class="btn" type="reset">
												<i class="icon-undo bigger-110"></i>
												重置
											</button>
										</div>
									</div>
								</form>
							</div><!-- /.col -->
						</div><!-- /.row -->
					</div><!-- /.page-content -->
				</div><!-- /.main-content -->

			</div><!-- /.main-container-inner -->
			<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
				<i class="icon-double-angle-up icon-only bigger-110"></i>
			</a>
		</div><!-- /.main-container -->

		<!-- basic scripts -->

		<script type="text/javascript">
			window.jQuery || document.write("<script src='../assets/js/jquery-2.0.3.min.js'>"+"<"+"/script>");
		</script>

		<!-- <![endif]-->

		<!--[if IE]>
<script type="text/javascript">
 window.jQuery || document.write("<script src='assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
</script>
<![endif]-->

		<script type="text/javascript">
			if("ontouchend" in document) document.write("<script src='../assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
		</script>
		<script src="../assets/js/bootstrap.min.js"></script>
		<script src="../assets/js/typeahead-bs2.min.js"></script>

		<!-- page specific plugin scripts -->

		<!--[if lte IE 8]>
		<script src="../assets/js/excanvas.min.js"></script>
		<![endif]-->

		<script src="../assets/js/jquery-ui-1.10.3.custom.min.js"></script>
		<script src="../assets/js/jquery.ui.touch-punch.min.js"></script>
		<script src="../assets/js/chosen.jquery.min.js"></script>
		<!--<script src="../assets/js/fuelux/fuelux.spinner.min.js"></script>-->
		<!--<script src="../assets/js/date-time/bootstrap-datepicker.min.js"></script>-->
		<!--<script src="../assets/js/date-time/bootstrap-timepicker.min.js"></script>-->
		<!--<script src="../assets/js/date-time/moment.min.js"></script>-->
		<!--<script src="../assets/js/date-time/daterangepicker.min.js"></script>-->
		<!--<script src="../assets/js/bootstrap-colorpicker.min.js"></script>-->
		<!--<script src="../assets/js/jquery.knob.min.js"></script>-->
		<!--<script src="../assets/js/jquery.autosize.min.js"></script>-->
		<!--<script src="../assets/js/jquery.inputlimiter.1.3.1.min.js"></script>-->
		<!--<script src="../assets/js/jquery.maskedinput.min.js"></script>-->
		<!--<script src="../assets/js/bootstrap-tag.min.js"></script>-->

		<!-- ace scripts -->

		<script src="../assets/js/ace-elements.min.js"></script>
		<script src="../assets/js/ace.min.js"></script>


		<!-- inline scripts related to this page -->
		<script type="text/javascript">
            $(function () {
                $('#datetimepicker1').datetimepicker({
                    format: 'yyyy-mm-dd',
                    minView: 1,
                    language: 'zh-CN',
                });
            });
            $("#submit").click(function () {

//				var sex = document.getElementsByName("optionsRadiosinline");//不能getElementById，ById又只会读数组第一个值
				var sex = $(".option");
				var sexValue;
				for(var i = 0; i < 2; i++)
				{
					if(sex[i].checked)
						sexValue = sex[i].value;
				}
				console.log("operateor_id=",$("#operate_id").val());
				console.log("gender=",sexValue);
                console.log("birth=",$("#birth").val());
                console.log("political=",$("#political").val());
				//提交用户信息
				$.ajax({
					url: rootUrl + "operatorController/changeInfo",
					type: "POST",
                    dataType: "text",
					data: {
						"operator_id": $("#operate_id").val(),
						"gender": sexValue,
						"birth": $("#birth").val(),
						"political": $("#political").val(),
						"minzu": $("#minzu").val(),
						"phone": $("#phone").val(),
						"address": $("#address").val(),
						"email": $("#email").val()
					},
					success: function (data) {
						var result = data;
						if (result == 1){
							alert("修改成功")
						} else {
							alert("修改失败,工号重复，或输入错误");
						}
					}
				})
            });
		</script>
	<div style="display:none"><script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script></div>
</body>
</html>
<script src="/car/js/userjs/baseUrl.js"></script>
<script src="/car/js/userjs/collector-operate.js"></script>